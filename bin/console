#!/usr/bin/env php
<?php
// application.php

require __DIR__.'/../bootstrap.php';

use Symfony\Component\Console\Application;
use Symfony\Component\Yaml\Yaml;

// read command-list from /config/commands.yml
$yamlString = file_get_contents(__DIR__."/../config/commands.yml");
$commands = Yaml::parse($yamlString)["commands"];

// register commands
$application = new Application();
foreach ($commands as $cmd) {
    $application->add(new $cmd());
}

$application->run();
